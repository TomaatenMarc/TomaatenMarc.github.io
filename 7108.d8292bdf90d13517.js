"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7108],{7108:(Y,d,m)=>{m.r(d),m.d(d,{LoginPageModule:()=>G});var p=m(1368),a=m(4716),s=m(2112),c=m(8244),f=m(1528);class h{constructor(i){this.formBuilder=i}createForm(){return this.formBuilder.group({email:["",[a.AQ.required,a.AQ.email]],password:["",[a.AQ.required]]})}}class _{constructor(i){this.formBuilder=i}createForm(){return this.formBuilder.group({emailR:["",[a.AQ.required,a.AQ.email]],passwordR:["",[a.AQ.required]]})}}var e=m(4496),R=m(7980);function y(o,i){1&o&&(e.I0R(0,"ion-label",9),e.OEk(1,"Email is mandatory"),e.C$Y())}function C(o,i){1&o&&(e.I0R(0,"ion-label",9),e.OEk(1,"Email is invalid"),e.C$Y())}function b(o,i){1&o&&(e.I0R(0,"ion-label",9),e.OEk(1,"Password is mandatory"),e.C$Y())}function F(o,i){1&o&&(e.I0R(0,"ion-label",9),e.OEk(1,"Email is mandatory"),e.C$Y())}function P(o,i){1&o&&(e.I0R(0,"ion-label",9),e.OEk(1,"Email is invalid"),e.C$Y())}function v(o,i){1&o&&(e.I0R(0,"ion-label",9),e.OEk(1,"Password is mandatory"),e.C$Y())}function E(o,i){if(1&o){const r=e.KQA();e.I0R(0,"ion-content",10)(1,"div",1)(2,"form",2)(3,"ion-card")(4,"ion-card-header")(5,"ion-card-title"),e.OEk(6,"Register Form"),e.C$Y()(),e.I0R(7,"ion-card-content")(8,"ion-item"),e.wR5(9,"ion-input",11),e.C$Y(),e.yuY(10,F,2,0,"ion-label",4)(11,P,2,0,"ion-label",4),e.I0R(12,"ion-item"),e.wR5(13,"ion-input",12),e.C$Y(),e.yuY(14,v,2,0,"ion-label",4),e.I0R(15,"ion-button",6),e.qCj("click",function(){e.usT(r);const l=e.GaO();return e.CGJ(l.onSubmit())}),e.OEk(16,"Submit"),e.C$Y(),e.I0R(17,"ion-button",13),e.qCj("click",function(){e.usT(r);const l=e.GaO();return e.CGJ(l.cancel())}),e.OEk(18,"Cancel"),e.C$Y()()()()()()}if(2&o){const r=e.GaO();let n,l,t;e.yG2(2),e.E7m("formGroup",r.registerForm),e.yG2(8),e.E7m("ngIf",(null==(n=r.registerForm.get("emailR"))?null:n.touched)&&(null==(n=r.registerForm.get("emailR"))||null==n.errors?null:n.errors.required)),e.yG2(),e.E7m("ngIf",(null==(l=r.registerForm.get("emailR"))?null:l.touched)&&(null==(l=r.registerForm.get("emailR"))||null==l.errors?null:l.errors.email)),e.yG2(3),e.E7m("ngIf",(null==(t=r.registerForm.get("passwordR"))?null:t.touched)&&(null==(t=r.registerForm.get("passwordR"))||null==t.errors?null:t.errors.required)),e.yG2(),e.E7m("disabled",!r.registerForm.valid)}}const I=[{path:"",component:(()=>{var o;class i{constructor(n,l,t,u,g){this.router=n,this.formBuilderLogin=l,this.formBuilderRegister=t,this.alertController=u,this.authCompatService=g,this.openRegistration=!1}ngOnInit(){this.loginForm=new h(this.formBuilderLogin).createForm(),this.registerForm=new _(this.formBuilderRegister).createForm()}onLogin(){console.log(this.loginForm.value),this.authCompatService.loginUser(this.loginForm.value.email,this.loginForm.value.password).then(()=>{this.loginForm.reset(),this.router.navigate(["user/tab1"])}).catch(n=>{console.log(n)})}onSubmit(){this.registerForm.valid&&(this.authCompatService.saveUserMail(this.registerForm.value.emailR),console.log(this.registerForm.value),this.authCompatService.registerUser(this.registerForm.value.emailR,this.registerForm.value.passwordR),this.registerForm.reset(),this.cancel())}cancel(){this.modal.dismiss(null,"cancel")}confirm(){this.modal.dismiss(this.name,"confirm")}onWillDismiss(n){"confirm"===n.detail.role&&(this.message=`Hello, ${n.detail.data}!`)}presentAlert(n){var l=this;return(0,f.c)(function*(){yield(yield l.alertController.create({header:"Alert",subHeader:"Important message",message:n,buttons:["OK"]})).present()})()}}return(o=i).\u0275fac=function(n){return new(n||o)(e.GI1(c.E5),e.GI1(a.im),e.GI1(a.im),e.GI1(s.iW),e.GI1(R.s))},o.\u0275cmp=e.In1({type:o,selectors:[["app-login"]],viewQuery:function(n,l){if(1&n&&e.CC$(s.yc,5),2&n){let t;e.wto(t=e.Gqi())&&(l.modal=t.first)}},decls:21,vars:7,consts:[[3,"fullscreen"],[1,"flex-center"],[3,"formGroup"],["formControlName","email","label","E-Mail","labelPlacement","floating","placeholder","Enter email","type","email"],["color","danger",4,"ngIf"],["formControlName","password","label","Password","labelPlacement","floating","placeholder","Enter password","type","password"],["color","dark","form","round",3,"disabled","click"],["id","open-modal","color","dark","fill","outline"],["trigger","open-modal",3,"isOpen"],["color","danger"],[1,"ion-padding"],["formControlName","emailR","label","E-Mail","labelPlacement","floating","placeholder","Enter email","type","email"],["formControlName","passwordR","label","Password","labelPlacement","floating","placeholder","Enter password","type","password"],["color","danger","fill","outline",3,"click"]],template:function(n,l){if(1&n&&(e.I0R(0,"ion-content",0)(1,"div",1)(2,"form",2)(3,"ion-card")(4,"ion-card-header")(5,"ion-card-title"),e.OEk(6,"TTRPG Notes"),e.C$Y()(),e.I0R(7,"ion-card-content")(8,"ion-item"),e.wR5(9,"ion-input",3),e.C$Y(),e.yuY(10,y,2,0,"ion-label",4)(11,C,2,0,"ion-label",4),e.I0R(12,"ion-item"),e.wR5(13,"ion-input",5),e.C$Y(),e.yuY(14,b,2,0,"ion-label",4),e.I0R(15,"ion-button",6),e.qCj("click",function(){return l.onLogin()}),e.OEk(16,"Login"),e.C$Y(),e.I0R(17,"ion-button",7),e.OEk(18,"Register"),e.C$Y()()()()(),e.I0R(19,"ion-modal",8),e.yuY(20,E,19,5,"ng-template"),e.C$Y()()),2&n){let t,u,g;e.E7m("fullscreen",!0),e.yG2(2),e.E7m("formGroup",l.loginForm),e.yG2(8),e.E7m("ngIf",(null==(t=l.loginForm.get("email"))?null:t.touched)&&(null==(t=l.loginForm.get("email"))||null==t.errors?null:t.errors.required)),e.yG2(),e.E7m("ngIf",(null==(u=l.loginForm.get("email"))?null:u.touched)&&(null==(u=l.loginForm.get("email"))||null==u.errors?null:u.errors.email)),e.yG2(3),e.E7m("ngIf",(null==(g=l.loginForm.get("password"))?null:g.touched)&&(null==(g=l.loginForm.get("password"))||null==g.errors?null:g.errors.required)),e.yG2(),e.E7m("disabled",!l.loginForm.valid),e.yG2(4),e.E7m("isOpen",l.isModalOpen)}},dependencies:[p.u_,a.sz,a.ue,a.u,s.sn,s.KC,s.Gg,s.YY,s.I7,s._i,s.A5,s.Yb,s.QR,s.yc,s.qG,a.uW,a.Wo],styles:["ion-content[_ngcontent-%COMP%]{--background: var(--ion-color-secondary)}"]}),i})()}];let L=(()=>{var o;class i{}return(o=i).\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.a4G({type:o}),o.\u0275inj=e.s3X({imports:[c.qQ.forChild(I),c.qQ]}),i})(),G=(()=>{var o;class i{}return(o=i).\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.a4G({type:o}),o.\u0275inj=e.s3X({imports:[p.MD,a.y,s.wZ,L,a.sl]}),i})()}}]);