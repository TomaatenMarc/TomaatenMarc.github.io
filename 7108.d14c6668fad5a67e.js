"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7108],{7108:(E,c,m)=>{m.r(c),m.d(c,{LoginPageModule:()=>F});var g=m(1368),l=m(4716),a=m(2112),u=m(8244),d=m(1528);class p{constructor(n){this.formBuilder=n}createForm(){return this.formBuilder.group({email:["",[l.AQ.required,l.AQ.email]],password:["",[l.AQ.required]]})}}class f{constructor(n){this.formBuilder=n}createForm(){return this.formBuilder.group({emailR:["",[l.AQ.required,l.AQ.email]],passwordR:["",[l.AQ.required]]})}}var e=m(4496),h=m(7980),R=m(7471);function v(o,n){1&o&&(e.I0R(0,"ion-label",14),e.OEk(1,"Email is mandatory"),e.C$Y())}function C(o,n){1&o&&(e.I0R(0,"ion-label",14),e.OEk(1,"Email is invalid"),e.C$Y())}function G(o,n){1&o&&(e.I0R(0,"ion-label",14),e.OEk(1,"Password is mandatory"),e.C$Y())}function _(o,n){if(1&o){const i=e.KQA();e.I0R(0,"ion-content",10)(1,"div",1)(2,"form",2)(3,"ion-card")(4,"ion-card-header")(5,"ion-card-title"),e.OEk(6,"Register Form"),e.C$Y()(),e.I0R(7,"ion-card-content")(8,"ion-item"),e.wR5(9,"ion-input",11),e.C$Y(),e.yuY(10,v,2,0,"ion-label",12)(11,C,2,0,"ion-label",12),e.I0R(12,"ion-item"),e.wR5(13,"ion-input",13),e.C$Y(),e.yuY(14,G,2,0,"ion-label",12),e.I0R(15,"ion-button",6),e.qCj("click",function(){e.usT(i);const r=e.GaO();return e.CGJ(r.onSubmit())}),e.OEk(16,"Submit"),e.C$Y(),e.I0R(17,"ion-button",8),e.qCj("click",function(){e.usT(i);const r=e.GaO();return e.CGJ(r.cancel())}),e.OEk(18,"Cancel"),e.C$Y()()()()()()}if(2&o){const i=e.GaO();let t,r,s;e.yG2(2),e.E7m("formGroup",i.registerForm),e.yG2(8),e.E7m("ngIf",(null==(t=i.registerForm.get("emailR"))?null:t.touched)&&(null==(t=i.registerForm.get("emailR"))||null==t.errors?null:t.errors.required)),e.yG2(),e.E7m("ngIf",(null==(r=i.registerForm.get("emailR"))?null:r.touched)&&(null==(r=i.registerForm.get("emailR"))||null==r.errors?null:r.errors.email)),e.yG2(3),e.E7m("ngIf",(null==(s=i.registerForm.get("passwordR"))?null:s.touched)&&(null==(s=i.registerForm.get("passwordR"))||null==s.errors?null:s.errors.required)),e.yG2(),e.E7m("disabled",!i.registerForm.valid)}}const y=[{path:"",component:(()=>{var o;class n{constructor(t,r,s,L,b,I){this.router=t,this.formBuilderLogin=r,this.formBuilderRegister=s,this.alertController=L,this.authCompatService=b,this.gameService=I,this.openRegistration=!1}ngOnInit(){this.loginForm=new p(this.formBuilderLogin).createForm(),this.registerForm=new f(this.formBuilderRegister).createForm()}ionViewWillEnter(){this.currentGame=localStorage.getItem("currentGame")}onLogin(){console.log(this.loginForm.value),this.authCompatService.loginUser(this.loginForm.value.email,this.loginForm.value.password,this.currentGame).then(()=>{this.loginForm.reset(),this.router.navigate(["user/tab1"])}).catch(t=>{console.log(t)})}onSubmit(){this.registerForm.valid&&(this.authCompatService.saveUserMail(this.registerForm.value.emailR,this.currentGame),console.log(this.registerForm.value),this.authCompatService.registerUser(this.registerForm.value.emailR,this.registerForm.value.passwordR),this.registerForm.reset(),this.cancel())}cancel(){this.modal.dismiss(null,"cancel")}confirm(){this.modal.dismiss(this.name,"confirm")}onWillDismiss(t){"confirm"===t.detail.role&&(this.message=`Hello, ${t.detail.data}!`)}leaveGame(){this.router.navigate(["select-game"])}presentAlert(t){var r=this;return(0,d.c)(function*(){yield(yield r.alertController.create({header:"Alert",subHeader:"Important message",message:t,buttons:["OK"]})).present()})()}}return(o=n).\u0275fac=function(t){return new(t||o)(e.GI1(u.E5),e.GI1(l.im),e.GI1(l.im),e.GI1(a.iW),e.GI1(h.s),e.GI1(R.q))},o.\u0275cmp=e.In1({type:o,selectors:[["app-login"]],viewQuery:function(t,r){if(1&t&&e.CC$(a.yc,5),2&t){let s;e.wto(s=e.Gqi())&&(r.modal=s.first)}},decls:20,vars:5,consts:[[3,"fullscreen"],[1,"flex-center"],[3,"formGroup"],[2,"width","250px"],["formControlName","email","label","E-Mail","labelPlacement","floating","placeholder","Enter email","type","email"],["formControlName","password","label","Password","labelPlacement","floating","placeholder","Enter password","type","password"],["color","dark","form","round",3,"disabled","click"],["id","open-modal","color","dark","fill","outline"],["color","danger","fill","outline",3,"click"],["trigger","open-modal",3,"isOpen"],[1,"ion-padding"],["formControlName","emailR","label","E-Mail","labelPlacement","floating","placeholder","Enter email","type","email"],["color","danger",4,"ngIf"],["formControlName","passwordR","label","Password","labelPlacement","floating","placeholder","Enter password","type","password"],["color","danger"]],template:function(t,r){1&t&&(e.I0R(0,"ion-content",0)(1,"div",1)(2,"form",2)(3,"ion-card")(4,"ion-card-header")(5,"ion-card-title"),e.OEk(6),e.C$Y()(),e.I0R(7,"ion-card-content")(8,"ion-item",3),e.wR5(9,"ion-input",4),e.C$Y(),e.I0R(10,"ion-item",3),e.wR5(11,"ion-input",5),e.C$Y(),e.I0R(12,"ion-button",6),e.qCj("click",function(){return r.onLogin()}),e.OEk(13,"Login"),e.C$Y(),e.I0R(14,"ion-button",7),e.OEk(15,"Register"),e.C$Y(),e.I0R(16,"ion-button",8),e.qCj("click",function(){return r.leaveGame()}),e.OEk(17,"Leave Game"),e.C$Y()()()()(),e.I0R(18,"ion-modal",9),e.yuY(19,_,19,5,"ng-template"),e.C$Y()()),2&t&&(e.E7m("fullscreen",!0),e.yG2(2),e.E7m("formGroup",r.loginForm),e.yG2(4),e.oRS("Current Game: ",r.currentGame,""),e.yG2(6),e.E7m("disabled",!r.loginForm.valid),e.yG2(6),e.E7m("isOpen",r.isModalOpen))},dependencies:[g.u_,l.sz,l.ue,l.u,a.sn,a.KC,a.Gg,a.YY,a.I7,a._i,a.A5,a.Yb,a.QR,a.yc,a.qG,l.uW,l.Wo],styles:["ion-content[_ngcontent-%COMP%]{--background: var(--ion-color-secondary)}"]}),n})()}];let P=(()=>{var o;class n{}return(o=n).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.a4G({type:o}),o.\u0275inj=e.s3X({imports:[u.qQ.forChild(y),u.qQ]}),n})(),F=(()=>{var o;class n{}return(o=n).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.a4G({type:o}),o.\u0275inj=e.s3X({imports:[g.MD,l.y,a.wZ,P,l.sl]}),n})()}}]);