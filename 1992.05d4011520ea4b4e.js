"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1992],{1992:(ue,q,h)=>{h.r(q),h.d(q,{Tab3PageModule:()=>re});var c=h(2112),T=h(1368),p=h(4716),O=h(4692),G=h(8244),d=h(1528),C=h(1740);class k{constructor(l){this.formBuilder=l}createForm(){return this.formBuilder.group({name:["",[p.AQ.required]],hometown:[""]})}}var e=h(4496),f=h(4552),I=h(5748),u=h(4688),b=h(1512),v=h(9552);let R=(()=>{var o;class l{constructor(n,t,i){this.auth=n,this.fireStore=t,this.storage=i}getQuests(n,t){let r,s=(0,u.oV)(this.fireStore,`quests/from_${this.auth.currentUser.email}/QuestData`);return""!=n&&(r=(0,u.kt)(s,(0,u.A9)("name",">=",n),(0,u.A9)("name","<=",n+"\uf8ff"))),""!==t&&(r=(0,u.kt)(r||s,(0,u.A9)("hometown","==",t))),(0,f.GK)(""!=t||""!=n?r:s)}getEmails(){return(0,f.GK)((0,u.oV)(this.fireStore,"emails"))}getShared(){return(0,f.GK)((0,u.oV)(this.fireStore,`quests/from_${this.auth.currentUser.email}/sharedQuestData`))}uploadImage(n,t){var i=this;return(0,d.c)(function*(){const s=i.auth.currentUser,_=(0,I.IL)(i.storage,`uploads/${s.email}/${t}/avatar.png`);try{yield(0,b.K)(_,n.base64String,"base64");const m=yield(0,b.Kq)(_),g=(0,u.oV)(i.fireStore,`quests/from_${s.email}/QuestData`),y=(0,f.UN)(g,t);return yield(0,u.gD)(y,{imageURL:m}),!0}catch{return null}})()}uploadQuest(n,t,i){var s=this;return(0,d.c)(function*(){const r=s.auth.currentUser,m=(0,I.IL)(s.storage,`uploads/${r.email}/${n}/avatar.png`);try{const g=(0,u.oV)(s.fireStore,`quests/from_${r.email}/QuestData`),y="",Q="";if(i){yield(0,b.K)(m,i.base64String,"base64");const ce=yield(0,b.Kq)(m);return yield(0,u.Sm)((0,f.UN)(g,n),{name:n,hometown:t,imageURL:ce,questInfo:y,questLink:Q}),!0}return yield(0,u.Sm)((0,f.UN)(g,n),{name:n,hometown:t,imageURL:"",questInfo:y,questLink:Q}),!0}catch(g){return console.log(g),null}})()}uploadSharedQuest(n,t,i,s,r){var _=this;return(0,d.c)(function*(){const m=_.auth.currentUser;try{const g=(0,u.oV)(_.fireStore,`quests/from_${m.email}/QuestData`);return yield(0,u.Sm)((0,f.UN)(g,n),{name:n,hometown:t,imageURL:i,questInfo:r,questLink:s}),!0}catch(g){return console.log(g),null}})()}shareQuest(n,t,i,s,r,_){var m=this;return(0,d.c)(function*(){if(""==n)return null;try{const g=(0,u.oV)(m.fireStore,`quests/from_${n}/sharedQuestData`);return yield(0,u.Sm)((0,f.UN)(g,t),{name:t,hometown:i,imageURL:s,questLink:r,questInfo:_}),!0}catch(g){return console.log(g),null}})()}getQuestData(n){var t=this;return(0,d.c)(function*(){const i=t.auth.currentUser,s=(0,u.gZ)(),r=(0,f.UN)(s,`quests/from_${i.email}/QuestData`,n),_=yield(0,u.i4)(r);try{return _.exists()?_.data():(console.log("Kein Dokument mit dieser ID gefunden."),null)}catch(m){console.error("Fehler beim Abrufen des Dokuments:",m)}})()}getSharedQuestData(n){var t=this;return(0,d.c)(function*(){const i=t.auth.currentUser,s=(0,u.gZ)(),r=(0,f.UN)(s,`quests/from_${i.email}/sharedQuestData`,n),_=yield(0,u.i4)(r);try{return _.exists()?_.data():(console.log("Kein Dokument mit dieser ID gefunden."),null)}catch(m){console.error("Fehler beim Abrufen des Dokuments:",m)}})()}updateQuest(n,t,i,s){var r=this;return(0,d.c)(function*(){const _=r.auth.currentUser;console.log("Hallo: "+s),console.log("home: "+n),console.log("link: "+t),console.log("info: "+i);try{const m=(0,u.oV)(r.fireStore,`quests/from_${_.email}/QuestData`),g=(0,f.UN)(m,s);return yield(0,u.gD)(g,{hometown:n,questLink:t,questInfo:i}),!0}catch{return null}})()}deleteDocument(n){var t=this;return(0,d.c)(function*(){const i=t.auth.currentUser;try{const s=(0,u.gZ)(),r=(0,f.UN)(s,`quests/from_${i.email}/QuestData`,n);return yield(0,u.oh)(r),console.log("Document successfully deleted!"),!0}catch(s){return console.error("Error deleting document: ",s),!1}})()}deleteSharedDocument(n){var t=this;return(0,d.c)(function*(){const i=t.auth.currentUser;try{const s=(0,u.gZ)(),r=(0,f.UN)(s,`quests/from_${i.email}/sharedQuestData`,n);return yield(0,u.oh)(r),console.log("Document successfully deleted!"),!0}catch(s){return console.error("Error deleting document: ",s),!1}})()}}return(o=l).\u0275fac=function(n){return new(n||o)(e.CoB(v.sL),e.CoB(f.OI),e.CoB(I.u_))},o.\u0275prov=e.wxM({token:o,factory:o.\u0275fac,providedIn:"root"}),l})();const E=["creationModalQuest"],x=["searchModalQuest"],M=["itemModalQuest"],Y=["alertModalQuest"];function $(o,l){if(1&o&&e.wR5(0,"img",25),2&o){const a=e.GaO().$implicit;e.E7m("src",a.imageURL,e.K6U)}}function P(o,l){1&o&&(e.I0R(0,"div",26),e.wR5(1,"img",27),e.C$Y())}function w(o,l){if(1&o){const a=e.KQA();e.I0R(0,"ion-item-sliding")(1,"ion-item",19)(2,"ion-avatar",20),e.qCj("click",function(){const i=e.usT(a).$implicit,s=e.GaO();return e.CGJ(s.changeImage(i))}),e.yuY(3,$,1,1,"img",21)(4,P,2,0,"ng-template",null,22,e.gJz),e.C$Y(),e.I0R(6,"ion-label",23),e.OEk(7),e.C$Y(),e.I0R(8,"ion-label"),e.OEk(9),e.C$Y(),e.I0R(10,"ion-icon",24),e.qCj("click",function(){const i=e.usT(a).$implicit,s=e.GaO();return e.CGJ(s.setIndexQuest(i))}),e.C$Y()()()}if(2&o){const a=l.$implicit,n=l.index,t=e.Gew(5);e.yG2(),e.E7m("button",!0),e.yG2(2),e.E7m("ngIf",a.imageURL)("ngIfElse",t),e.yG2(3),e.CI5("id","nameQuest",n,""),e.yG2(),e.cNF(a.name),e.yG2(2),e.cNF(a.hometown)}}function D(o,l){1&o&&(e.I0R(0,"p"),e.OEk(1,"Picture has been selected"),e.C$Y())}function S(o,l){1&o&&(e.I0R(0,"div",26)(1,"p"),e.OEk(2,"Choose a picture"),e.C$Y()())}function U(o,l){1&o&&(e.I0R(0,"ion-label",38),e.OEk(1,"Name is mandatory"),e.C$Y())}function N(o,l){if(1&o){const a=e.KQA();e.I0R(0,"ion-content",28)(1,"div",29)(2,"form",30)(3,"ion-card")(4,"ion-card-header")(5,"ion-card-title"),e.OEk(6,"Create quest note"),e.C$Y()(),e.I0R(7,"ion-card-content")(8,"ion-item",31),e.qCj("click",function(){e.usT(a);const t=e.GaO();return e.CGJ(t.chooseImage())}),e.yuY(9,D,2,0,"p",32)(10,S,3,0,"ng-template",null,22,e.gJz),e.C$Y(),e.I0R(12,"ion-item"),e.wR5(13,"ion-input",33),e.C$Y(),e.yuY(14,U,2,0,"ion-label",34),e.I0R(15,"ion-item"),e.wR5(16,"ion-input",35),e.C$Y(),e.I0R(17,"ion-button",36),e.qCj("click",function(){e.usT(a);const t=e.GaO();return e.CGJ(t.createQuest())}),e.OEk(18,"Create quest"),e.C$Y(),e.I0R(19,"ion-button",37),e.qCj("click",function(){e.usT(a);const t=e.GaO();return e.CGJ(t.cancelCreationQuest())}),e.OEk(20,"Close"),e.C$Y()()()()()()}if(2&o){const a=e.Gew(11),n=e.GaO();let t;e.yG2(2),e.E7m("formGroup",n.createQuestForm),e.yG2(7),e.E7m("ngIf",n.photo)("ngIfElse",a),e.yG2(5),e.E7m("ngIf",(null==(t=n.createQuestForm.get("name"))?null:t.touched)&&(null==(t=n.createQuestForm.get("name"))||null==t.errors?null:t.errors.required)),e.yG2(3),e.E7m("disabled",!n.createQuestForm.valid)}}function K(o,l){if(1&o&&(e.I0R(0,"ion-select-option",44),e.OEk(1),e.C$Y()),2&o){const a=l.$implicit;e.E7m("value",a.hometown),e.yG2(),e.cNF(a.hometown)}}function F(o,l){if(1&o){const a=e.KQA();e.I0R(0,"ion-content",28)(1,"div",29)(2,"form")(3,"ion-card")(4,"ion-card-header")(5,"ion-card-title"),e.OEk(6,"Search for Quest"),e.C$Y()(),e.I0R(7,"ion-card-content")(8,"ion-item"),e.wR5(9,"ion-searchbar",39,40),e.C$Y(),e.I0R(11,"ion-item")(12,"ion-select",41),e.iHE("ngModelChange",function(t){e.usT(a);const i=e.GaO();return e.kNx(i.selectedHometown,t)||(i.selectedHometown=t),e.CGJ(t)}),e.yuY(13,K,2,2,"ion-select-option",42),e.C$Y()(),e.I0R(14,"ion-button",43),e.qCj("click",function(){e.usT(a);const t=e.Gew(10),i=e.GaO();return e.CGJ(i.search(t.value))}),e.OEk(15,"Search"),e.C$Y(),e.I0R(16,"ion-button",37),e.qCj("click",function(){e.usT(a);const t=e.GaO();return e.CGJ(t.cancelSearchQuest())}),e.OEk(17,"Close"),e.C$Y()()()()()()}if(2&o){const a=e.GaO();e.yG2(12),e.OKB("ngModel",a.selectedHometown),e.yG2(),e.E7m("ngForOf",a.quests)}}function A(o,l){if(1&o&&(e.I0R(0,"ion-select-option",44),e.OEk(1),e.C$Y()),2&o){const a=l.$implicit;e.E7m("value",a.email),e.yG2(),e.cNF(a.email)}}function j(o,l){if(1&o){const a=e.KQA();e.I0R(0,"h3"),e.OEk(1,"Share Quest with user"),e.C$Y(),e.I0R(2,"ion-select",62),e.iHE("ngModelChange",function(t){e.usT(a);const i=e.GaO(2);return e.kNx(i.chosenUser,t)||(i.chosenUser=t),e.CGJ(t)}),e.yuY(3,A,2,2,"ion-select-option",42),e.C$Y(),e.I0R(4,"ion-button",63),e.qCj("click",function(){e.usT(a);const t=e.GaO(2);return e.CGJ(t.shareQuest())}),e.OEk(5,"Share"),e.C$Y()}if(2&o){const a=e.GaO(2);e.yG2(2),e.OKB("ngModel",a.chosenUser),e.yG2(),e.E7m("ngForOf",a.users)}}function L(o,l){if(1&o&&e.wR5(0,"img",25),2&o){const a=e.GaO(2);e.E7m("src",a.questImg,e.K6U)}}function J(o,l){1&o&&(e.I0R(0,"div",26),e.wR5(1,"img",27),e.C$Y())}function B(o,l){1&o&&(e.I0R(0,"ion-label",1),e.OEk(1,"Hometown: "),e.C$Y())}function H(o,l){if(1&o&&(e.I0R(0,"a",64),e.OEk(1),e.C$Y()),2&o){const a=e.GaO(2);e.yG2(),e.cNF(a.questHome)}}function z(o,l){if(1&o){const a=e.KQA();e.I0R(0,"ion-input",65),e.iHE("ngModelChange",function(t){e.usT(a);const i=e.GaO(2);return e.kNx(i.questHome,t)||(i.questHome=t),e.CGJ(t)}),e.C$Y()}if(2&o){const a=e.GaO(2);e.OKB("ngModel",a.questHome)}}function W(o,l){1&o&&(e.I0R(0,"ion-label",1),e.OEk(1,"Link:"),e.C$Y())}function V(o,l){if(1&o&&(e.I0R(0,"a",66),e.OEk(1),e.C$Y()),2&o){const a=e.GaO(2);e._6D("href",a.questLink,e.K6U),e.yG2(),e.cNF(a.questName)}}function Z(o,l){if(1&o){const a=e.KQA();e.I0R(0,"ion-input",67),e.iHE("ngModelChange",function(t){e.usT(a);const i=e.GaO(2);return e.kNx(i.questLink,t)||(i.questLink=t),e.CGJ(t)}),e.C$Y()}if(2&o){const a=e.GaO(2);e.OKB("ngModel",a.questLink)}}function X(o,l){if(1&o&&(e.I0R(0,"textarea",68),e.OEk(1),e.C$Y()),2&o){const a=e.GaO(2);e.yG2(),e.cNF(a.questInfo)}}function ee(o,l){if(1&o){const a=e.KQA();e.I0R(0,"textarea",69),e.iHE("ngModelChange",function(t){e.usT(a);const i=e.GaO(2);return e.kNx(i.questInfo,t)||(i.questInfo=t),e.CGJ(t)}),e.OEk(1),e.C$Y()}if(2&o){const a=e.GaO(2);e.OKB("ngModel",a.questInfo),e.yG2(),e.cNF(a.questInfo)}}function te(o,l){if(1&o){const a=e.KQA();e.I0R(0,"ion-content",28)(1,"ion-fab",45)(2,"ion-fab-button",6),e.qCj("click",function(){e.usT(a);const t=e.GaO();return e.CGJ(t.toggleEditModeQuest())}),e.wR5(3,"ion-icon",46),e.C$Y()(),e.I0R(4,"ion-fab",45)(5,"ion-fab-button",47),e.qCj("click",function(){e.usT(a);const t=e.GaO();return e.CGJ(t.saveQuestData())}),e.wR5(6,"ion-icon",48),e.C$Y()(),e.I0R(7,"ion-fab",49)(8,"ion-fab-button",50),e.wR5(9,"ion-icon",51),e.C$Y()(),e.I0R(10,"ion-popover",52),e.yuY(11,j,6,2,"ng-template"),e.C$Y(),e.I0R(12,"ion-card")(13,"ion-card-header")(14,"ion-card-title",23),e.OEk(15),e.C$Y()(),e.I0R(16,"ion-card-content")(17,"ion-item")(18,"ion-avatar",53),e.yuY(19,L,1,1,"img",21)(20,J,2,0,"ng-template",null,22,e.gJz),e.C$Y()()(),e.I0R(22,"ion-card-content")(23,"ion-item"),e.yuY(24,B,2,0,"ion-label",54)(25,H,2,1,"a",55)(26,z,1,1,"ion-input",56),e.C$Y(),e.I0R(27,"ion-item"),e.yuY(28,W,2,0,"ion-label",54)(29,V,2,2,"a",57)(30,Z,1,1,"ion-input",58),e.C$Y()()(),e.I0R(31,"ion-card")(32,"ion-card-header")(33,"ion-card-title"),e.OEk(34,"Additional Infos"),e.C$Y()(),e.I0R(35,"ion-card-content")(36,"ion-item"),e.yuY(37,X,2,1,"textarea",59)(38,ee,2,2,"textarea",60),e.C$Y()()(),e.I0R(39,"ion-button",37),e.qCj("click",function(){e.usT(a);const t=e.GaO();return e.CGJ(t.cancelItemQuest())}),e.OEk(40,"Close"),e.C$Y(),e.I0R(41,"ion-button",61),e.qCj("click",function(){e.usT(a);const t=e.GaO();return e.CGJ(t.delete())}),e.OEk(42,"Delete"),e.C$Y()()}if(2&o){const a=e.Gew(21),n=e.GaO();e.yG2(),e.E7m("hidden",n.editMode),e.yG2(3),e.E7m("hidden",!n.editMode),e.yG2(3),e.E7m("hidden",n.editMode),e.yG2(3),e.E7m("isOpen",n.isPopoverOpen),e.yG2(4),e.CI5("id","nameQuest",n.currentItemIndexQuest,""),e.yG2(),e.cNF(n.questName),e.yG2(4),e.E7m("ngIf",n.questImg)("ngIfElse",a),e.yG2(5),e.E7m("ngIf",!n.editMode),e.yG2(),e.E7m("ngIf",!n.editMode),e.yG2(),e.E7m("ngIf",n.editMode),e.yG2(2),e.E7m("ngIf",!n.editMode),e.yG2(),e.E7m("ngIf",!n.editMode),e.yG2(),e.E7m("ngIf",n.editMode),e.yG2(7),e.E7m("ngIf",!n.editMode),e.yG2(),e.E7m("ngIf",n.editMode)}}function ne(o,l){if(1&o&&e.wR5(0,"img",25),2&o){const a=e.GaO().$implicit;e.E7m("src",a.imageURL,e.K6U)}}function oe(o,l){1&o&&(e.I0R(0,"div",26),e.wR5(1,"img",27),e.C$Y())}function ie(o,l){if(1&o){const a=e.KQA();e.I0R(0,"ion-item-sliding")(1,"ion-item",19)(2,"ion-avatar",71),e.yuY(3,ne,1,1,"img",21)(4,oe,2,0,"ng-template",null,22,e.gJz),e.C$Y(),e.I0R(6,"ion-label",23),e.OEk(7),e.C$Y(),e.I0R(8,"ion-label"),e.OEk(9),e.C$Y(),e.I0R(10,"ion-icon",72),e.qCj("click",function(){const i=e.usT(a).index,s=e.GaO(2);return e.CGJ(s.addToDatabase(i))}),e.C$Y(),e.I0R(11,"ion-icon",73),e.qCj("click",function(){const i=e.usT(a).index,s=e.GaO(2);return e.CGJ(s.deleteShared(i))}),e.C$Y()()()}if(2&o){const a=l.$implicit,n=l.index,t=e.Gew(5);e.yG2(),e.E7m("button",!0),e.yG2(2),e.E7m("ngIf",a.imageURL)("ngIfElse",t),e.yG2(3),e.CI5("id","sharedNameQuest",n,""),e.yG2(),e.cNF(a.name),e.yG2(2),e.cNF(a.hometown)}}function ae(o,l){if(1&o){const a=e.KQA();e.I0R(0,"ion-content",28)(1,"h3",70),e.OEk(2,"Shared Characters"),e.C$Y(),e.I0R(3,"ion-list",12),e.yuY(4,ie,12,6,"ion-item-sliding",13),e.C$Y(),e.I0R(5,"ion-button",61),e.qCj("click",function(){e.usT(a);const t=e.GaO();return e.CGJ(t.cancelAlertQuest())}),e.OEk(6,"Close"),e.C$Y()()}if(2&o){const a=e.GaO();e.yG2(3),e.E7m("inset",!0),e.yG2(),e.E7m("ngForOf",a.sharedQuests)}}const se=[{path:"",component:(()=>{var o;class l{constructor(n,t,i,s){this.questService=n,this.loadingController=t,this.alertController=i,this.formBuilder=s,this.searchItem="",this.selectedHometown="",this.chosenUser="",this.profile=null,this.quests=null,this.sharedQuests=null,this.users=null,this.filter=!0,this.editMode=!1,this.isPopoverOpen=!1,this.questService.getQuests(this.searchItem,this.selectedHometown).subscribe(r=>{this.quests=r}),this.questService.getEmails().subscribe(r=>{this.users=r}),this.questService.getShared().subscribe(r=>{this.sharedQuests=r,this.sharedQuestsCount=r.length})}ngOnInit(){this.createQuestForm=new k(this.formBuilder).createForm(),this.onWillDismiss(null)}search(n){this.questService.getQuests(n,this.selectedHometown).subscribe(t=>{this.quests=t}),this.selectedHometown="",this.cancelSearchQuest(),setTimeout(()=>{this.filter=!this.filter},300)}changeImage(n){var t=this;return(0,d.c)(function*(){const i=yield C.Ut.getPhoto({quality:90,allowEditing:!1,resultType:C.on.Base64,source:C._8.Photos});if(i){const s=yield t.loadingController.create();yield s.present();const r=yield t.questService.uploadImage(i,n.name);s.dismiss(),r||(yield(yield t.alertController.create({header:"Upload failed",message:"There was a problem uploading your avatar.",buttons:["OK"]})).present())}})()}chooseImage(){var n=this;return(0,d.c)(function*(){n.photo=yield C.Ut.getPhoto({quality:90,allowEditing:!1,resultType:C.on.Base64,source:C._8.Photos})})()}createQuest(){var n=this;return(0,d.c)(function*(){const t=yield n.loadingController.create();yield t.present();const i=yield n.questService.uploadQuest(n.createQuestForm.value.name,n.createQuestForm.value.hometown,null==n?void 0:n.photo);n.photo=null,t.dismiss(),i||(yield(yield n.alertController.create({header:"Upload failed",message:"There was a problem uploading your Quest.",buttons:["OK"]})).present()),n.cancelCreationQuest()})()}toggleEditModeQuest(){this.editMode=!this.editMode}saveQuestData(){var n=this;return(0,d.c)(function*(){const t=yield n.loadingController.create();yield t.present();const i=yield n.questService.updateQuest(n.questHome,n.questLink,n.questInfo,n.questName);t.dismiss(),i||(yield(yield n.alertController.create({header:"Upload failed",message:"There was a problem uploading your data.",buttons:["OK"]})).present()),n.toggleEditModeQuest()})()}delete(){var n=this;return(0,d.c)(function*(){yield(yield n.alertController.create({header:"Are you sure?",message:"Data will be deleted",buttons:[{text:"Delete",handler:()=>{n.questService.deleteDocument(n.quest.name),n.cancelItemQuest()}},{text:"Cancel",role:"cancel",handler:()=>{}}]})).present()})()}deleteShared(n){var t=this;return(0,d.c)(function*(){yield(yield t.alertController.create({header:"Are you sure?",message:"Data will be deleted",buttons:[{text:"Delete",handler:()=>{var s;const _=null===(s=document.getElementById("sharedNameQuest"+n))||void 0===s?void 0:s.textContent;t.questService.deleteSharedDocument(_),t.cancelItemQuest()}},{text:"Cancel",role:"cancel",handler:()=>{}}]})).present()})()}setIndexQuest(n){var t=this;return(0,d.c)(function*(){t.questName=n.name,t.questHome=n.hometown,t.questImg=n.imageURL,t.questInfo=n.questInfo,t.questLink=n.questLink,t.quest=n,t.isItemModalOpenQuest=!0})()}setSharedIndex(n){var t=this;return(0,d.c)(function*(){var i;const r=null===(i=document.getElementById("sharedNameQuest"+n))||void 0===i?void 0:i.textContent,_=yield t.questService.getSharedQuestData(r);console.log("Link: "+_.questLink),t.questName=_.name,t.questHome=_.hometown,t.questImg=_.imageURL,t.questInfo=_.questInfo,t.questLink=_.questLink})()}shareQuest(){var n=this;return(0,d.c)(function*(){const t=yield n.loadingController.create();yield t.present();const i=yield n.questService.shareQuest(n.chosenUser,n.questName,n.questHome,n.questImg,n.questLink,n.questInfo);t.dismiss(),i||(yield(yield n.alertController.create({header:"Upload failed",message:"There was a problem uploading your data.",buttons:["OK"]})).present())})()}addToDatabase(n){var t=this;return(0,d.c)(function*(){var i;yield t.setSharedIndex(n);const s=yield t.questService.uploadSharedQuest(t.questName,t.questHome,t.questImg,t.questLink,t.questInfo);var r="sharedNameQuest"+n;const _=yield null===(i=document.getElementById(r))||void 0===i?void 0:i.textContent;s&&(yield t.questService.deleteSharedDocument(_))})()}cancelCreationQuest(){this.isCreationModalOpenQuest=!1,this.creationModalQuest.dismiss(null,"cancel")}cancelAlertQuest(){this.isAlertModalOpenQuest=!1,this.alertModalQuest.dismiss(null,"cancel")}cancelSearchQuest(){this.isSearchModalOpenQuest=!1,this.searchModalQuest.dismiss(null,"cancel")}cancelItemQuest(){this.itemModalQuest.dismiss(null,"cancel"),this.isItemModalOpenQuest=!1,this.editMode&&this.toggleEditModeQuest()}openAlert(){this.isAlertModalOpenQuest=!0}openCreation(){this.isCreationModalOpenQuest=!0}openSearch(){this.isSearchModalOpenQuest=!0}onWillDismiss(n){this.isAlertModalOpenQuest=!1,this.isCreationModalOpenQuest=!1,this.isItemModalOpenQuest=!1,this.isSearchModalOpenQuest=!1}}return(o=l).\u0275fac=function(n){return new(n||o)(e.GI1(R),e.GI1(c.Kg),e.GI1(c.iW),e.GI1(p.im))},o.\u0275cmp=e.In1({type:o,selectors:[["app-tab3"]],viewQuery:function(n,t){if(1&n&&(e.CC$(E,5),e.CC$(x,5),e.CC$(M,5),e.CC$(Y,5)),2&n){let i;e.wto(i=e.Gqi())&&(t.creationModalQuest=i.first),e.wto(i=e.Gqi())&&(t.searchModalQuest=i.first),e.wto(i=e.Gqi())&&(t.itemModalQuest=i.first),e.wto(i=e.Gqi())&&(t.alertModalQuest=i.first)}},decls:31,vars:11,consts:[[3,"translucent"],["slot","start"],["slot","end","color","danger",1,"badge-position"],["slot","end","name","notifications-outline",2,"height","35px","width","35px",3,"click"],[3,"fullscreen"],["slot","fixed","vertical","bottom","horizontal","end"],["color","secondary",3,"click"],["name","add-outline"],["slot","fixed","vertical","bottom","horizontal","start",3,"hidden"],["name","search-outline"],["color","danger",3,"click"],["name","remove"],[3,"inset"],[4,"ngFor","ngForOf"],[3,"isOpen","willDismiss"],["creationModalQuest",""],["searchModalQuest",""],["itemModalQuest",""],["alertModalQuest",""],[3,"button"],["aria-hidden","true","slot","start",3,"click"],[3,"src",4,"ngIf","ngIfElse"],["placeholder_avatar",""],[3,"id"],["name","chevron-forward-outline",3,"click"],[3,"src"],[1,"placeholder"],["src","https://ionicframework.com/docs/img/demos/avatar.svg"],[1,"ion-padding"],[1,"flex-center"],[3,"formGroup"],[3,"click"],[4,"ngIf","ngIfElse"],["formControlName","name","label","Name","labelPlacement","floating","placeholder","Enter name","type","text"],["color","danger",4,"ngIf"],["formControlName","hometown","label","Hometown","labelPlacement","floating","placeholder","Enter hometown","type","text"],["color","dark","form","round",3,"disabled","click"],["color","danger","fill","outline",3,"click"],["color","danger"],["show-clear-button","focus","value",""],["searchBar",""],["label","Choose hometown","name","selectedHometown",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["color","dark","form","round",3,"click"],[3,"value"],["slot","fixed","vertical","bottom","horizontal","end",3,"hidden"],["name","create-outline"],["color","success",3,"click"],["name","save-outline"],["slot","fixed","vertical","top","horizontal","end",3,"hidden"],["id","open-popover-quest","color","secondary"],["name","share-social-outline"],["trigger","open-popover-quest",3,"isOpen"],["aria-hidden","true",1,"align-center"],["slot","start",4,"ngIf"],["slot","end","style","text-decoration: none; pointer-events: none;","href","",4,"ngIf"],["placeholder","Type quest hometown","type","text",3,"ngModel","ngModelChange",4,"ngIf"],["slot","end","style","text-decoration: none;",3,"href",4,"ngIf"],["placeholder","Type quest link","type","text",3,"ngModel","ngModelChange",4,"ngIf"],["style","resize: none; width: 100%; height: 100%;","rows","7","cols","55","readonly","",4,"ngIf"],["placeholder","Type quest info","rows","40","cols","55",3,"ngModel","ngModelChange",4,"ngIf"],["color","danger","form","round",3,"click"],["label","Choose user","name","chosenUser",3,"ngModel","ngModelChange"],["color","dark","fill","outline",3,"click"],["slot","end","href","",2,"text-decoration","none","pointer-events","none"],["placeholder","Type quest hometown","type","text",3,"ngModel","ngModelChange"],["slot","end",2,"text-decoration","none",3,"href"],["placeholder","Type quest link","type","text",3,"ngModel","ngModelChange"],["rows","7","cols","55","readonly","",2,"resize","none","width","100%","height","100%"],["placeholder","Type quest info","rows","40","cols","55",3,"ngModel","ngModelChange"],[2,"display","flex","justify-content","center"],["aria-hidden","true","slot","start"],["slot","end","name","add-circle-outline",3,"click"],["slot","end","name","trash-outline",3,"click"]],template:function(n,t){1&n&&(e.I0R(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title",1),e.OEk(3," Quest Notes "),e.C$Y(),e.I0R(4,"ion-badge",2),e.OEk(5),e.C$Y(),e.I0R(6,"ion-icon",3),e.qCj("click",function(){return t.openAlert()}),e.C$Y()()(),e.I0R(7,"ion-content",4)(8,"ion-fab",5)(9,"ion-fab-button",6),e.qCj("click",function(){return t.openCreation()}),e.wR5(10,"ion-icon",7),e.C$Y()(),e.I0R(11,"ion-fab",8)(12,"ion-fab-button",6),e.qCj("click",function(){return t.openSearch()}),e.wR5(13,"ion-icon",9),e.C$Y()(),e.I0R(14,"ion-fab",8)(15,"ion-fab-button",10),e.qCj("click",function(){return t.search("")}),e.wR5(16,"ion-icon",11),e.C$Y()(),e.I0R(17,"ion-list",12),e.yuY(18,w,11,6,"ion-item-sliding",13),e.C$Y(),e.I0R(19,"ion-modal",14,15),e.qCj("willDismiss",function(s){return t.onWillDismiss(s)}),e.yuY(21,N,21,5,"ng-template"),e.C$Y(),e.I0R(22,"ion-modal",14,16),e.qCj("willDismiss",function(s){return t.onWillDismiss(s)}),e.yuY(24,F,18,2,"ng-template"),e.C$Y(),e.I0R(25,"ion-modal",14,17),e.qCj("willDismiss",function(s){return t.onWillDismiss(s)}),e.yuY(27,te,43,16,"ng-template"),e.C$Y(),e.I0R(28,"ion-modal",14,18),e.qCj("willDismiss",function(s){return t.onWillDismiss(s)}),e.yuY(30,ae,7,2,"ng-template"),e.C$Y()()),2&n&&(e.E7m("translucent",!0),e.yG2(5),e.cNF(t.sharedQuestsCount),e.yG2(2),e.E7m("fullscreen",!0),e.yG2(4),e.E7m("hidden",!t.filter),e.yG2(3),e.E7m("hidden",t.filter),e.yG2(3),e.E7m("inset",!0),e.yG2(),e.E7m("ngForOf",t.quests),e.yG2(),e.E7m("isOpen",t.isCreationModalOpenQuest),e.yG2(3),e.E7m("isOpen",t.isSearchModalOpenQuest),e.yG2(3),e.E7m("isOpen",t.isItemModalOpenQuest),e.yG2(3),e.E7m("isOpen",t.isAlertModalOpenQuest))},dependencies:[c.O7,c.Gi,c.sn,c.KC,c.Gg,c.YY,c.I7,c._i,c.q8,c.Wq,c.wB,c.Ko,c.A5,c.Yb,c.UB,c.QR,c.OC,c.KQ,c.Cy,c.gd,c.tM,c.Md,c.yc,c.sW,c.IT,c.qG,T.ay,T.u_,p.sz,p.ot,p.ue,p.u,p._G,p.SC,p.uW,p.Wo]}),l})()}];let le=(()=>{var o;class l{}return(o=l).\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.a4G({type:o}),o.\u0275inj=e.s3X({imports:[G.qQ.forChild(se),G.qQ]}),l})(),re=(()=>{var o;class l{}return(o=l).\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.a4G({type:o}),o.\u0275inj=e.s3X({imports:[c.wZ,T.MD,p.y,O.C,le,p.sl]}),l})()}}]);