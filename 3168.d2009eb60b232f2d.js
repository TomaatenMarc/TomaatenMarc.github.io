"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3168],{1208:(H,M,v)=>{v.d(M,{_8:()=>a,on:()=>S,wd:()=>g});var a=function(n){return n.Prompt="PROMPT",n.Camera="CAMERA",n.Photos="PHOTOS",n}(a||{}),g=function(n){return n.Rear="REAR",n.Front="FRONT",n}(g||{}),S=function(n){return n.Uri="uri",n.Base64="base64",n.DataUrl="dataUrl",n}(S||{})},1740:(H,M,v)=>{v.d(M,{Ut:()=>S,_8:()=>g._8,on:()=>g.on});var a=v(6400),g=v(1208);const S=(0,a.C_)("Camera",{web:()=>v.e(9028).then(v.bind(v,9028)).then(n=>new n.CameraWeb)})},6400:(H,M,v)=>{v.d(M,{C_:()=>m,Yr:()=>$,w8:()=>l});var a=v(1528);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var k=function(r){return r.Unimplemented="UNIMPLEMENTED",r.Unavailable="UNAVAILABLE",r}(k||{});class $ extends Error{constructor(e,t,i){super(e),this.message=e,this.code=t,this.data=i}}const X=r=>{var e,t,i,f,o;const p=r.CapacitorCustomPlatform||null,d=r.Capacitor||{},D=d.Plugins=d.Plugins||{},y=r.CapacitorPlatforms,B=(null===(e=null==y?void 0:y.currentPlatform)||void 0===e?void 0:e.getPlatform)||(()=>null!==p?p.name:(r=>{var e,t;return null!=r&&r.androidBridge?"android":null!==(t=null===(e=null==r?void 0:r.webkit)||void 0===e?void 0:e.messageHandlers)&&void 0!==t&&t.bridge?"ios":"web"})(r)),le=(null===(t=null==y?void 0:y.currentPlatform)||void 0===t?void 0:t.isNativePlatform)||(()=>"web"!==B()),de=(null===(i=null==y?void 0:y.currentPlatform)||void 0===i?void 0:i.isPluginAvailable)||(w=>{const E=ee.get(w);return!!(null!=E&&E.platforms.has(B())||oe(w))}),oe=(null===(f=null==y?void 0:y.currentPlatform)||void 0===f?void 0:f.getPluginHeader)||(w=>{var E;return null===(E=d.PluginHeaders)||void 0===E?void 0:E.find(V=>V.name===w)}),ee=new Map,_e=(null===(o=null==y?void 0:y.currentPlatform)||void 0===o?void 0:o.registerPlugin)||((w,E={})=>{const V=ee.get(w);if(V)return console.warn(`Capacitor plugin "${w}" already registered. Cannot register plugins twice.`),V.proxy;const T=B(),G=oe(w);let N;const ve=function(){var U=(0,a.c)(function*(){return!N&&T in E?N=N="function"==typeof E[T]?yield E[T]():E[T]:null!==p&&!N&&"web"in E&&(N=N="function"==typeof E.web?yield E.web():E.web),N});return function(){return U.apply(this,arguments)}}(),te=U=>{let L;const A=(...I)=>{const W=ve().then(R=>{const K=((U,L)=>{var A,I;if(!G){if(U)return null===(I=U[L])||void 0===I?void 0:I.bind(U);throw new $(`"${w}" plugin is not implemented on ${T}`,k.Unimplemented)}{const W=null==G?void 0:G.methods.find(R=>L===R.name);if(W)return"promise"===W.rtype?R=>d.nativePromise(w,L.toString(),R):(R,K)=>d.nativeCallback(w,L.toString(),R,K);if(U)return null===(A=U[L])||void 0===A?void 0:A.bind(U)}})(R,U);if(K){const Y=K(...I);return L=null==Y?void 0:Y.remove,Y}throw new $(`"${w}.${U}()" is not implemented on ${T}`,k.Unimplemented)});return"addListener"===U&&(W.remove=(0,a.c)(function*(){return L()})),W};return A.toString=()=>`${U.toString()}() { [capacitor code] }`,Object.defineProperty(A,"name",{value:U,writable:!1,configurable:!1}),A},se=te("addListener"),ie=te("removeListener"),pe=(U,L)=>{const A=se({eventName:U},L),I=function(){var R=(0,a.c)(function*(){const K=yield A;ie({eventName:U,callbackId:K},L)});return function(){return R.apply(this,arguments)}}(),W=new Promise(R=>A.then(()=>R({remove:I})));return W.remove=(0,a.c)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield I()}),W},re=new Proxy({},{get(U,L){switch(L){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return G?pe:se;case"removeListener":return ie;default:return te(L)}}});return D[w]=re,ee.set(w,{name:w,proxy:re,platforms:new Set([...Object.keys(E),...G?[T]:[]])}),re});return d.convertFileSrc||(d.convertFileSrc=w=>w),d.getPlatform=B,d.handleError=w=>r.console.error(w),d.isNativePlatform=le,d.isPluginAvailable=de,d.pluginMethodNoop=(w,E,V)=>Promise.reject(`${V} does not have an implementation of "${E}".`),d.registerPlugin=_e,d.Exception=$,d.DEBUG=!!d.DEBUG,d.isLoggingEnabled=!!d.isLoggingEnabled,d.platform=d.getPlatform(),d.isNative=d.isNativePlatform(),d},c=(r=>r.Capacitor=X(r))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),m=c.registerPlugin;class l{constructor(e){this.listeners={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,t){var i=this;this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t);const o=this.windowListeners[e];o&&!o.registered&&this.addWindowListener(o);const p=function(){var D=(0,a.c)(function*(){return i.removeListener(e,t)});return function(){return D.apply(this,arguments)}}(),d=Promise.resolve({remove:p});return Object.defineProperty(d,"remove",{value:(D=(0,a.c)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield p()}),function(){return D.apply(this,arguments)})}),d;var D}removeAllListeners(){var e=this;return(0,a.c)(function*(){e.listeners={};for(const t in e.windowListeners)e.removeWindowListener(e.windowListeners[t]);e.windowListeners={}})()}notifyListeners(e,t){const i=this.listeners[e];i&&i.forEach(f=>f(t))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:i=>{this.notifyListeners(t,i)}}}unimplemented(e="not implemented"){return new c.Exception(e,k.Unimplemented)}unavailable(e="not available"){return new c.Exception(e,k.Unavailable)}removeListener(e,t){var i=this;return(0,a.c)(function*(){const f=i.listeners[e];if(!f)return;const o=f.indexOf(t);i.listeners[e].splice(o,1),i.listeners[e].length||i.removeWindowListener(i.windowListeners[e])})()}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}}const b=r=>encodeURIComponent(r).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),P=r=>r.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class C extends l{getCookies(){return(0,a.c)(function*(){const e=document.cookie,t={};return e.split(";").forEach(i=>{if(i.length<=0)return;let[f,o]=i.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");f=P(f).trim(),o=P(o).trim(),t[f]=o}),t})()}setCookie(e){return(0,a.c)(function*(){try{const t=b(e.key),i=b(e.value),f=`; expires=${(e.expires||"").replace("expires=","")}`,o=(e.path||"/").replace("path=",""),p=null!=e.url&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${t}=${i||""}${f}; path=${o}; ${p};`}catch(t){return Promise.reject(t)}})()}deleteCookie(e){return(0,a.c)(function*(){try{document.cookie=`${e.key}=; Max-Age=0`}catch(t){return Promise.reject(t)}})()}clearCookies(){return(0,a.c)(function*(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(e){return Promise.reject(e)}})()}clearAllCookies(){var e=this;return(0,a.c)(function*(){try{yield e.clearCookies()}catch(t){return Promise.reject(t)}})()}}m("CapacitorCookies",{web:()=>new C});const z=function(){var r=(0,a.c)(function*(e){return new Promise((t,i)=>{const f=new FileReader;f.onload=()=>{const o=f.result;t(o.indexOf(",")>=0?o.split(",")[1]:o)},f.onerror=o=>i(o),f.readAsDataURL(e)})});return function(t){return r.apply(this,arguments)}}();class ce extends l{request(e){return(0,a.c)(function*(){const t=((r,e={})=>{const t=Object.assign({method:r.method||"GET",headers:r.headers},e),f=((r={})=>{const e=Object.keys(r);return Object.keys(r).map(f=>f.toLocaleLowerCase()).reduce((f,o,p)=>(f[o]=r[e[p]],f),{})})(r.headers)["content-type"]||"";if("string"==typeof r.data)t.body=r.data;else if(f.includes("application/x-www-form-urlencoded")){const o=new URLSearchParams;for(const[p,d]of Object.entries(r.data||{}))o.set(p,d);t.body=o.toString()}else if(f.includes("multipart/form-data")||r.data instanceof FormData){const o=new FormData;if(r.data instanceof FormData)r.data.forEach((d,D)=>{o.append(D,d)});else for(const d of Object.keys(r.data))o.append(d,r.data[d]);t.body=o;const p=new Headers(t.headers);p.delete("content-type"),t.headers=p}else(f.includes("application/json")||"object"==typeof r.data)&&(t.body=JSON.stringify(r.data));return t})(e,e.webFetchExtra),i=((r,e=!0)=>r?Object.entries(r).reduce((i,f)=>{const[o,p]=f;let d,D;return Array.isArray(p)?(D="",p.forEach(y=>{d=e?encodeURIComponent(y):y,D+=`${o}=${d}&`}),D.slice(0,-1)):(d=e?encodeURIComponent(p):p,D=`${o}=${d}`),`${i}&${D}`},"").substr(1):null)(e.params,e.shouldEncodeUrlParams),f=i?`${e.url}?${i}`:e.url,o=yield fetch(f,t),p=o.headers.get("content-type")||"";let D,y,{responseType:d="text"}=o.ok?e:{};switch(p.includes("application/json")&&(d="json"),d){case"arraybuffer":case"blob":y=yield o.blob(),D=yield z(y);break;case"json":D=yield o.json();break;default:D=yield o.text()}const J={};return o.headers.forEach((B,q)=>{J[q]=B}),{data:D,headers:J,status:o.status,url:o.url}})()}get(e){var t=this;return(0,a.c)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"GET"}))})()}post(e){var t=this;return(0,a.c)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"POST"}))})()}put(e){var t=this;return(0,a.c)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"PUT"}))})()}patch(e){var t=this;return(0,a.c)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"PATCH"}))})()}delete(e){var t=this;return(0,a.c)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"DELETE"}))})()}}m("CapacitorHttp",{web:()=>new ce})},4692:(H,M,v)=>{v.d(M,{C:()=>x});var a=v(1368),g=v(4716),S=v(2112),n=v(4496);let x=(()=>{var O;class j{}return(O=j).\u0275fac=function($){return new($||O)},O.\u0275mod=n.a4G({type:O}),O.\u0275inj=n.s3X({imports:[a.MD,g.y,S.wZ]}),j})()},7231:(H,M,v)=>{v.d(M,{C:()=>k});var a=v(1528),g=v(4552),S=v(5748),n=v(4688),x=v(1512),O=v(4496),j=v(9552);let k=(()=>{var $;class Z{constructor(s,c,m){this.auth=s,this.fireStore=c,this.storage=m}getNotes(s,c,m,_){let u,l=(0,n.oV)(this.fireStore,`${_}/from_${this.auth.currentUser.email}_in_${m}/NoteData`);return""!=s&&(u=(0,n.kt)(l,(0,n.A9)("name",">=",s),(0,n.A9)("name","<=",s+"\uf8ff"))),""!==c&&(u=(0,n.kt)(u||l,(0,n.A9)("hometown","==",c))),(0,g.GK)(""!=c||""!=s?u:l)}getEmails(s){return(0,g.GK)((0,n.oV)(this.fireStore,`emails_in_${s}`))}getShared(s,c){return(0,g.GK)((0,n.oV)(this.fireStore,`${c}/from_${this.auth.currentUser.email}_in_${s}/SharedNoteData`))}uploadImage(s,c,m,_){var h=this;return(0,a.c)(function*(){const l=h.auth.currentUser,b=(0,S.IL)(h.storage,`uploads/${c}'s_avatar.png`);try{yield(0,x.K)(b,s.base64String,"base64");const P=yield(0,x.Kq)(b),C=(0,n.oV)(h.fireStore,`${_}/from_${l.email}_in_${m}/NoteData`),F=(0,g.UN)(C,c);return yield(0,n.gD)(F,{imageURL:P}),!0}catch{return null}})()}uploadNote(s,c,m,_,h){var l=this;return(0,a.c)(function*(){const u=l.auth.currentUser,P=(0,S.IL)(l.storage,`uploads/${s}'s_avatar.png`);try{const C=(0,n.oV)(l.fireStore,`${h}/from_${u.email}_in_${_}/NoteData`),F="",z="";if(m){yield(0,x.K)(P,m.base64String,"base64");const Q=yield(0,x.Kq)(P);return yield(0,n.Sm)((0,g.UN)(C,s),{name:s,hometown:c,imageURL:Q,noteInfo:F,noteLink:z}),!0}return yield(0,n.Sm)((0,g.UN)(C,s),{name:s,hometown:c,imageURL:"",noteInfo:F,noteLink:z}),!0}catch(C){return console.log(C),null}})()}uploadSharedNote(s,c,m,_,h,l,u){var b=this;return(0,a.c)(function*(){const P=b.auth.currentUser;try{const C=(0,n.oV)(b.fireStore,`${u}/from_${P.email}_in_${l}/NoteData`);return yield(0,n.Sm)((0,g.UN)(C,s),{name:s,hometown:c,imageURL:m,noteInfo:h,noteLink:_}),!0}catch(C){return console.log(C),null}})()}uploadAllSharedNotes(s,c,m){var _=this;return(0,a.c)(function*(){const h=_.auth.currentUser;try{const l=(0,n.oV)(_.fireStore,`${m}/from_${h.email}_in_${c}/NoteData`);for(const u of s)yield(0,n.Sm)((0,g.UN)(l,u.name),{name:u.name,hometown:u.hometown,imageURL:u.imageURL,noteLink:u.noteLink,noteInfo:u.noteInfo});return!0}catch(l){return console.log(l),null}})()}shareNote(s,c,m,_,h,l,u,b){var P=this;return(0,a.c)(function*(){if(""==s)return null;try{const C=(0,n.oV)(P.fireStore,`${b}/from_${s}_in_${u}/SharedNoteData`);return console.log("Der Pfad!: "+C),yield(0,n.Sm)((0,g.UN)(C,c),{name:c,hometown:m,imageURL:_,noteLink:h,noteInfo:l}),!0}catch(C){return console.log(C),null}})()}shareAllNotes(s,c,m,_){var h=this;return(0,a.c)(function*(){if(""==s)return null;try{const l=(0,n.oV)(h.fireStore,`${_}/from_${s}_in_${m}/SharedNoteData`);for(const u of c)yield(0,n.Sm)((0,g.UN)(l,u.name),{name:u.name,hometown:u.hometown,imageURL:u.imageURL,noteLink:u.noteLink,noteInfo:u.noteInfo});return!0}catch(l){return console.log(l),null}})()}getNoteData(s,c,m){var _=this;return(0,a.c)(function*(){const h=_.auth.currentUser,l=(0,n.gZ)(),u=(0,g.UN)(l,`${m}/from_${h.email}_in_${c}/NoteData`,s),b=yield(0,n.i4)(u);try{return b.exists()?b.data():(console.log("Kein Dokument mit dieser ID gefunden."),null)}catch(P){console.error("Fehler beim Abrufen des Dokuments:",P)}})()}getSharedNoteData(s,c,m){var _=this;return(0,a.c)(function*(){const h=_.auth.currentUser,l=(0,n.gZ)(),u=(0,g.UN)(l,`${m}/from_${h.email}_in_${c}/SharedNoteData`,s),b=yield(0,n.i4)(u);try{return b.exists()?b.data():(console.log("Kein Dokument mit dieser ID gefunden."),null)}catch(P){console.error("Fehler beim Abrufen des Dokuments:",P)}})()}updateNote(s,c,m,_,h,l){var u=this;return(0,a.c)(function*(){const b=u.auth.currentUser;try{const P=(0,n.oV)(u.fireStore,`${l}/from_${b.email}_in_${h}/NoteData`),C=(0,g.UN)(P,_);return yield(0,n.gD)(C,{hometown:s,noteLink:c,noteInfo:m}),!0}catch{return null}})()}deleteDocument(s,c,m){var _=this;return(0,a.c)(function*(){const h=_.auth.currentUser;try{const l=(0,n.gZ)(),u=(0,g.UN)(l,`${m}/from_${h.email}_in_${c}/NoteData`,s);return yield(0,n.oh)(u),console.log("Document successfully deleted!"),!0}catch(l){return console.error("Error deleting document: ",l),!1}})()}deleteSharedDocument(s,c,m){var _=this;return(0,a.c)(function*(){const h=_.auth.currentUser;try{const l=(0,n.gZ)(),u=(0,g.UN)(l,`${m}/from_${h.email}_in_${c}/SharedNoteData`,s);return yield(0,n.oh)(u),console.log("Document successfully deleted!"),!0}catch(l){return console.error("Error deleting document: ",l),!1}})()}deleteAllSharedDocuments(s,c){var m=this;return(0,a.c)(function*(){const _=m.auth.currentUser;try{const h=(0,n.gZ)(),l=(0,n.oV)(h,`${c}/from_${_.email}_in_${s}/SharedNoteData`);return(yield(0,n.uY)(l)).forEach(function(){var b=(0,a.c)(function*(P){const C=(0,g.UN)(h,P.ref.path);yield(0,n.oh)(C),console.log("Document successfully deleted:",P.id)});return function(P){return b.apply(this,arguments)}}()),console.log("All documents successfully deleted!"),!0}catch(h){return console.error("Error deleting documents: ",h),!1}})()}}return($=Z).\u0275fac=function(s){return new(s||$)(O.CoB(j.sL),O.CoB(g.OI),O.CoB(S.u_))},$.\u0275prov=O.wxM({token:$,factory:$.\u0275fac,providedIn:"root"}),Z})()}}]);