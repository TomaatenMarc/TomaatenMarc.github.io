"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7108],{7108:(G,g,m)=>{m.r(g),m.d(g,{LoginPageModule:()=>F});var c=m(1368),l=m(4716),a=m(2112),u=m(8244),d=m(1528);class p{constructor(n){this.formBuilder=n}createForm(){return this.formBuilder.group({email:["",[l.AQ.required,l.AQ.email]],password:["",[l.AQ.required]]})}}class f{constructor(n){this.formBuilder=n}createForm(){return this.formBuilder.group({emailR:["",[l.AQ.required,l.AQ.email]],passwordR:["",[l.AQ.required]]})}}var e=m(4496),h=m(7980);function R(o,n){1&o&&(e.I0R(0,"ion-label",13),e.OEk(1,"Email is mandatory"),e.C$Y())}function C(o,n){1&o&&(e.I0R(0,"ion-label",13),e.OEk(1,"Email is invalid"),e.C$Y())}function v(o,n){1&o&&(e.I0R(0,"ion-label",13),e.OEk(1,"Password is mandatory"),e.C$Y())}function _(o,n){if(1&o){const r=e.KQA();e.I0R(0,"ion-content",8)(1,"div",1)(2,"form",2)(3,"ion-card")(4,"ion-card-header")(5,"ion-card-title"),e.OEk(6,"Register Form"),e.C$Y()(),e.I0R(7,"ion-card-content")(8,"ion-item"),e.wR5(9,"ion-input",9),e.C$Y(),e.yuY(10,R,2,0,"ion-label",10)(11,C,2,0,"ion-label",10),e.I0R(12,"ion-item"),e.wR5(13,"ion-input",11),e.C$Y(),e.yuY(14,v,2,0,"ion-label",10),e.I0R(15,"ion-button",5),e.qCj("click",function(){e.usT(r);const i=e.GaO();return e.CGJ(i.onSubmit())}),e.OEk(16,"Submit"),e.C$Y(),e.I0R(17,"ion-button",12),e.qCj("click",function(){e.usT(r);const i=e.GaO();return e.CGJ(i.cancel())}),e.OEk(18,"Cancel"),e.C$Y()()()()()()}if(2&o){const r=e.GaO();let t,i,s;e.yG2(2),e.E7m("formGroup",r.registerForm),e.yG2(8),e.E7m("ngIf",(null==(t=r.registerForm.get("emailR"))?null:t.touched)&&(null==(t=r.registerForm.get("emailR"))||null==t.errors?null:t.errors.required)),e.yG2(),e.E7m("ngIf",(null==(i=r.registerForm.get("emailR"))?null:i.touched)&&(null==(i=r.registerForm.get("emailR"))||null==i.errors?null:i.errors.email)),e.yG2(3),e.E7m("ngIf",(null==(s=r.registerForm.get("passwordR"))?null:s.touched)&&(null==(s=r.registerForm.get("passwordR"))||null==s.errors?null:s.errors.required)),e.yG2(),e.E7m("disabled",!r.registerForm.valid)}}const P=[{path:"",component:(()=>{var o;class n{constructor(t,i,s,b,L){this.router=t,this.formBuilderLogin=i,this.formBuilderRegister=s,this.alertController=b,this.authCompatService=L,this.openRegistration=!1}ngOnInit(){this.loginForm=new p(this.formBuilderLogin).createForm(),this.registerForm=new f(this.formBuilderRegister).createForm()}onLogin(){console.log(this.loginForm.value),this.authCompatService.loginUser(this.loginForm.value.email,this.loginForm.value.password).then(()=>{this.loginForm.reset(),this.router.navigate(["user/tab1"])}).catch(t=>{console.log(t)})}onSubmit(){this.registerForm.valid&&(this.authCompatService.saveUserMail(this.registerForm.value.emailR),console.log(this.registerForm.value),this.authCompatService.registerUser(this.registerForm.value.emailR,this.registerForm.value.passwordR),this.registerForm.reset(),this.cancel())}cancel(){this.modal.dismiss(null,"cancel")}confirm(){this.modal.dismiss(this.name,"confirm")}onWillDismiss(t){"confirm"===t.detail.role&&(this.message=`Hello, ${t.detail.data}!`)}presentAlert(t){var i=this;return(0,d.c)(function*(){yield(yield i.alertController.create({header:"Alert",subHeader:"Important message",message:t,buttons:["OK"]})).present()})()}}return(o=n).\u0275fac=function(t){return new(t||o)(e.GI1(u.E5),e.GI1(l.im),e.GI1(l.im),e.GI1(a.iW),e.GI1(h.s))},o.\u0275cmp=e.In1({type:o,selectors:[["app-login"]],viewQuery:function(t,i){if(1&t&&e.CC$(a.yc,5),2&t){let s;e.wto(s=e.Gqi())&&(i.modal=s.first)}},decls:18,vars:4,consts:[[3,"fullscreen"],[1,"flex-center"],[3,"formGroup"],["formControlName","email","label","E-Mail","labelPlacement","floating","placeholder","Enter email","type","email"],["formControlName","password","label","Password","labelPlacement","floating","placeholder","Enter password","type","password"],["color","dark","form","round",3,"disabled","click"],["id","open-modal","color","dark","fill","outline"],["trigger","open-modal",3,"isOpen"],[1,"ion-padding"],["formControlName","emailR","label","E-Mail","labelPlacement","floating","placeholder","Enter email","type","email"],["color","danger",4,"ngIf"],["formControlName","passwordR","label","Password","labelPlacement","floating","placeholder","Enter password","type","password"],["color","danger","fill","outline",3,"click"],["color","danger"]],template:function(t,i){1&t&&(e.I0R(0,"ion-content",0)(1,"div",1)(2,"form",2)(3,"ion-card")(4,"ion-card-header")(5,"ion-card-title"),e.OEk(6,"TTRPG Notes"),e.C$Y()(),e.I0R(7,"ion-card-content")(8,"ion-item"),e.wR5(9,"ion-input",3),e.C$Y(),e.I0R(10,"ion-item"),e.wR5(11,"ion-input",4),e.C$Y(),e.I0R(12,"ion-button",5),e.qCj("click",function(){return i.onLogin()}),e.OEk(13,"Login"),e.C$Y(),e.I0R(14,"ion-button",6),e.OEk(15,"Register"),e.C$Y()()()()(),e.I0R(16,"ion-modal",7),e.yuY(17,_,19,5,"ng-template"),e.C$Y()()),2&t&&(e.E7m("fullscreen",!0),e.yG2(2),e.E7m("formGroup",i.loginForm),e.yG2(10),e.E7m("disabled",!i.loginForm.valid),e.yG2(4),e.E7m("isOpen",i.isModalOpen))},dependencies:[c.u_,l.sz,l.ue,l.u,a.sn,a.KC,a.Gg,a.YY,a.I7,a._i,a.A5,a.Yb,a.QR,a.yc,a.qG,l.uW,l.Wo],styles:["ion-content[_ngcontent-%COMP%]{--background: var(--ion-color-secondary)}"]}),n})()}];let y=(()=>{var o;class n{}return(o=n).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.a4G({type:o}),o.\u0275inj=e.s3X({imports:[u.qQ.forChild(P),u.qQ]}),n})(),F=(()=>{var o;class n{}return(o=n).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.a4G({type:o}),o.\u0275inj=e.s3X({imports:[c.MD,l.y,a.wZ,y,l.sl]}),n})()}}]);