"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5185],{5185:(I,G,m)=>{m.r(G),m.d(G,{SelectGamePageModule:()=>P});var u=m(1368),c=m(4716),o=m(2112),g=m(8244),d=m(1528);class f{constructor(l){this.formBuilder=l}createForm(){return this.formBuilder.group({gamename:["",[c.AQ.required]]})}}var e=m(4496),h=m(7471);function p(t,l){if(1&t&&(e.I0R(0,"ion-select-option",9),e.OEk(1),e.C$Y()),2&t){const n=l.$implicit;e.E7m("value",n.gamename),e.yG2(),e.cNF(n.gamename)}}function C(t,l){1&t&&(e.I0R(0,"ion-label",16),e.OEk(1,"Name is mandatory"),e.C$Y())}function S(t,l){if(1&t){const n=e.KQA();e.I0R(0,"ion-content",10)(1,"div",1)(2,"form",11)(3,"ion-card")(4,"ion-card-header")(5,"ion-card-title"),e.OEk(6,"Create a game"),e.C$Y()(),e.I0R(7,"ion-card-content")(8,"ion-item"),e.wR5(9,"ion-input",12),e.C$Y(),e.yuY(10,C,2,0,"ion-label",13),e.I0R(11,"ion-button",14),e.qCj("click",function(){e.usT(n);const r=e.GaO();return e.CGJ(r.onSubmit())}),e.OEk(12,"Submit"),e.C$Y(),e.I0R(13,"ion-button",15),e.qCj("click",function(){e.usT(n);const r=e.GaO();return e.CGJ(r.cancel())}),e.OEk(14,"Cancel"),e.C$Y()()()()()()}if(2&t){const n=e.GaO();let a;e.yG2(2),e.E7m("formGroup",n.createGameForm),e.yG2(8),e.E7m("ngIf",(null==(a=n.createGameForm.get("gamename"))?null:a.touched)&&(null==(a=n.createGameForm.get("gamename"))||null==a.errors?null:a.errors.required)),e.yG2(),e.E7m("disabled",!n.createGameForm.valid)}}const y=[{path:"",component:(()=>{var t;class l{constructor(a,r,i,s){this.router=a,this.alertController=r,this.formBuilderCreateGame=i,this.gameService=s,this.chosenGame="",this.gameService.getGames().subscribe(v=>{this.games=v})}ngOnInit(){this.createGameForm=new f(this.formBuilderCreateGame).createForm()}selectGame(){var a=this;return(0,d.c)(function*(){""!=a.chosenGame?(localStorage.setItem("currentGame",a.chosenGame),a.router.navigate(["login"])):yield(yield a.alertController.create({header:"Error",message:"You have to select a game",buttons:["OK"]})).present()})()}cancel(){this.modal.dismiss(null,"cancel")}onSubmit(){this.gameService.saveGame(this.createGameForm.value.gamename),this.createGameForm.reset(),this.cancel()}}return(t=l).\u0275fac=function(a){return new(a||t)(e.GI1(g.E5),e.GI1(o.iW),e.GI1(c.im),e.GI1(h.q))},t.\u0275cmp=e.In1({type:t,selectors:[["app-select-game"]],viewQuery:function(a,r){if(1&a&&e.CC$(o.yc,5),2&a){let i;e.wto(i=e.Gqi())&&(r.modal=i.first)}},decls:18,vars:3,consts:[[3,"fullscreen"],[1,"flex-center"],["labelPlacement","floating"],[2,"width","250px"],["name","chosenGame",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["color","dark","form","round",3,"click"],["id","open-createGame-modal","color","dark","fill","outline"],["trigger","open-createGame-modal"],[3,"value"],[1,"ion-padding"],[3,"formGroup"],["formControlName","gamename","label","Name","labelPlacement","floating","placeholder","Enter a name for the game","type","text"],["color","danger",4,"ngIf"],["color","dark","form","round",3,"disabled","click"],["color","danger","fill","outline",3,"click"],["color","danger"]],template:function(a,r){1&a&&(e.I0R(0,"ion-content",0)(1,"div",1)(2,"ion-card")(3,"ion-card-header")(4,"ion-card-title"),e.OEk(5,"TTRPG-Notes"),e.C$Y()(),e.I0R(6,"ion-card-content")(7,"ion-label",2),e.OEk(8,"Choose a game"),e.C$Y(),e.I0R(9,"ion-item",3)(10,"ion-select",4),e.iHE("ngModelChange",function(s){return e.kNx(r.chosenGame,s)||(r.chosenGame=s),s}),e.yuY(11,p,2,2,"ion-select-option",5),e.C$Y()(),e.I0R(12,"ion-button",6),e.qCj("click",function(){return r.selectGame()}),e.OEk(13,"Join Game"),e.C$Y(),e.I0R(14,"ion-button",7),e.OEk(15,"Create Game"),e.C$Y()()()(),e.I0R(16,"ion-modal",8),e.yuY(17,S,15,3,"ng-template"),e.C$Y()()),2&a&&(e.E7m("fullscreen",!0),e.yG2(10),e.OKB("ngModel",r.chosenGame),e.yG2(),e.E7m("ngForOf",r.games))},dependencies:[u.ay,u.u_,c.sz,c.ue,c.u,c._G,o.sn,o.KC,o.Gg,o.YY,o.I7,o._i,o.A5,o.Yb,o.QR,o.Cy,o.gd,o.yc,o.IT,o.qG,c.uW,c.Wo],styles:["ion-content[_ngcontent-%COMP%]{--background: var(--ion-color-secondary)}"]}),l})()}];let _=(()=>{var t;class l{}return(t=l).\u0275fac=function(a){return new(a||t)},t.\u0275mod=e.a4G({type:t}),t.\u0275inj=e.s3X({imports:[g.qQ.forChild(y),g.qQ]}),l})(),P=(()=>{var t;class l{}return(t=l).\u0275fac=function(a){return new(a||t)},t.\u0275mod=e.a4G({type:t}),t.\u0275inj=e.s3X({imports:[u.MD,c.y,o.wZ,_,c.sl]}),l})()}}]);